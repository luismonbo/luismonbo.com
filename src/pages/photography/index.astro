---
// Photography page — displays a carousel of photo essays
// getCollection fetches all entries from the 'photography' content collection
import { getCollection } from 'astro:content';
import Layout from '../../layouts/Layout.astro';
import PhotoCarousel from '../../components/PhotoCarousel.astro';

// Get all published photo essays, sorted by date (newest first)
const allEssays = await getCollection('photography');
const publishedEssays = allEssays
  .filter(essay => !essay.data.draft)
  .sort((a, b) => b.data.pubDate.getTime() - a.data.pubDate.getTime());
---

<Layout
  title="Photography · luismonbo"
  description="Analogue photography shot on 35mm and medium format film. Photo essays from around the world."
>
  <!-- Title and intro stay within the narrow column (inherited from Layout) -->
  <h1 class="text-5xl font-bold tracking-tight mb-6">Photography</h1>

  <p class="text-xl text-gray-700 leading-relaxed mb-12">
    Analogue photography shot on 35mm and medium format film.
    Mostly street photography, portraits, and whatever catches my eye.
  </p>

  <!-- Carousel breaks out to full width via its own CSS -->
  <PhotoCarousel essays={publishedEssays} />
</Layout>
